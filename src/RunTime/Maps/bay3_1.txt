
// Bayou SCENARIO 3  Mission 5 The Shining

//Pad definitions.
PAD alertbaz 10 GREEN SARGE > 0
PAD gr1 15 GrayRifle1 > 0
PAD gr2 13 GrayRifle2 > 0
PAD gr3 12 GrayRifle3 > 0
PAD gg1 11 GrayGrenadier1 > 0
PAD gg2 14 GrayGrenadier2 > 0
PAD wav0 20
PAD wav1 21
PAD wav2 22
PAD ag 25


	// ** GAME TERMINATION CONDITIONS ** //

// lose if sarge dies or Cajun Joe's house blows up
IF bombhouse killed_GreenSarge THEN
	TRIGGERDELAY 2 tanwins


//win if you kill all waves
IF ALLOF w0dead w1dead w2dead THEN
	TRIGGERDELAY 2 greenwins 




// ** STARTUP ** //
IF startup THEN
	SETAICONTROL GrayRifle1,
	SETAICONTROL GrayRifle2,
	SETAICONTROL GrayRifle3,
	SETAICONTROL GrayRifle4,
	SETAICONTROL GrayRifle5,
	SETAICONTROL GrayRifle6,
	SETAICONTROL GrayRifle7,
	SETAICONTROL GrayRifle8,
	SETAICONTROL GrayRifle9,
	SETAICONTROL GrayRifle10,
	SETAICONTROL GrayRifle11,
	SETAICONTROL GrayRifle12,
	SETAICONTROL GrayRifle13,
	SETAICONTROL GrayGrenadier1,
	SETAICONTROL GrayGrenadier2,
	ORDER GrayRifle1 GOTO gr1 INMODE IGNORE THEN ATMODE KNEELFIRE,
	ORDER GrayRifle2 GOTO gr2 INMODE IGNORE THEN ATMODE KNEELFIRE,
	ORDER GrayRifle3 GOTO gr3 INMODE IGNORE THEN ATMODE STANDFIRE,
	ORDER GrayGrenadier1 GOTO gg1 INMODE IGNORE THEN ATMODE KNEELFIRE,
	ORDER GrayGrenadier2 GOTO gg2 INMODE IGNORE THEN ATMODE KNEELFIRE,
	ORDER GrayRifle4 GOTO GrayRifle4 INMODE IGNORE THEN ATMODE STANDFIRE,
	ORDER GrayRifle5 GOTO GrayRifle5 INMODE IGNORE THEN ATMODE STANDFIRE,
	ORDER GrayRifle6 GOTO GrayRifle6 INMODE IGNORE THEN ATMODE STANDFIRE,
	ORDER GrayRifle7 GOTO GrayRifle7 INMODE IGNORE THEN ATMODE STANDFIRE,
	ORDER GrayRifle8 GOTO GrayRifle8 INMODE IGNORE THEN ATMODE STANDFIRE,
	ORDER GrayRifle9 GOTO GrayRifle9 INMODE IGNORE THEN ATMODE STANDFIRE,
	ORDER GrayRifle10 GOTO GrayRifle10 INMODE IGNORE THEN ATMODE STANDFIRE,
	ORDER GrayRifle11 GOTO GrayRifle11 INMODE IGNORE THEN ATMODE STANDFIRE,
	ORDER GrayRifle12 GOTO GrayRifle12 INMODE IGNORE THEN ATMODE STANDFIRE,
	ORDER GrayRifle13 GOTO GrayRifle13 INMODE IGNORE THEN ATMODE STANDFIRE,
	ORDER TanTank1 GOTO TanTank1 INMODE IGNORE THEN ATMODE DEFEND

//Tan Wave of Soldiers
IF TIMEABSOLUTE 150 THEN
	TRIGGER wave0,
	ALLY TAN GRAY

IF TIMEABSOLUTE 170 THEN
	TRIGGER wave1

IF TIMEABSOLUTE 170 THEN
	TRIGGER wave2

IF wave0 THEN
	DEPLOY TanRifle7 ATMODE ATTACK,
	DEPLOY TanGrenadier1 ATMODE ATTACK,
	DEPLOY TanRifle9 ATMODE ATTACK,
	ORDER TanRifle7 GOTO ag INMODE RETURNFIRE THEN ATMODE ATTACK,
	ORDER TanGrenadier1 GOTO ag INMODE RETURNFIRE THEN ATMODE ATTACK,
	ORDER TanRifle9 GOTO ag INMODE RETURNFIRE THEN ATMODE ATTACK

IF wave1 THEN
	DEPLOY TanGrenadier2 ATMODE ATTACK,
	DEPLOY TanRifle5 ATMODE ATTACK,
	DEPLOY TanRifle6 ATMODE ATTACK,
	ORDER TanGrenadier2 GOTO ag INMODE RETURNFIRE THEN ATMODE ATTACK,
	ORDER TanRifle5 GOTO ag INMODE RETURNFIRE THEN ATMODE ATTACK,
	ORDER TanRifle6 GOTO ag INMODE RETURNFIRE THEN ATMODE ATTACK



IF wave2 THEN
	DEPLOY TanRifle1 ATMODE ATTACK,
	DEPLOY TanBazooka1 ATMODE ATTACK,
	DEPLOY TanRifle3 ATMODE ATTACK,
	ORDER TanRifle1 GOTO ag INMODE RETURNFIRE THEN ATMODE ATTACK,
	ORDER TanBazooka1 GOTO ag INMODE RETURNFIRE THEN ATMODE ATTACK,
	ORDER TanRifle3 GOTO ag INMODE RETURNFIRE THEN ATMODE ATTACK

//The waves are dead.
IF ALLOF killed_TanRifle9 killed_TanRifle7 killed_TanGrenadier1 THEN
	TRIGGER w0dead

IF ALLOF killed_TanGrenadier2 killed_TanRifle5 killed_TanRifle6 THEN
	TRIGGER w1dead

IF ALLOF killed_TanRifle1 killed_TanRifle3 killed_TanBazooka1 THEN
	TRIGGER w2dead


//Second set of waves, just to make things interesting.


	  





// ** GAME EVENTS ** //

//Tanks always gaurd the factory
IF killed_TanTank1 THEN
	TRIGGERDELAY 3 rt

IF rt THEN
	RESURRECT TanTank1 (3900,2648),
	ORDER TanTank1 GOTO (3159,2463) INMODE IGNORE THEN ATMODE DEFEND


IF on_alertbaz THEN
	TRIGGER gobaz

IF gobaz THEN
	DEPLOY GrayBazooka1 ATMODE ATTACK

//Get your guys if you kill the household
IF ALLOF killed_GrayRifle1 killed_GrayRifle2 killed_GrayRifle3 killed_GrayGrenadier1 killed_GrayGrenadier2 killed_GrayBazooka1 THEN
	DEPLOY GreenRifle1 ATMODE DEFEND

IF killed_aagun THEN
	AIRSTRIKE (3641,543),
	TRIGGERDELAY 3 s2
	
IF s2 THEN 	
	AIRSTRIKE (3477,474),
	TRIGGERDELAY 3 s3

IF s3 THEN
	AIRSTRIKE (3546,423),
	TRIGGERDELAY 3 bombhouse


//Ammo Drop

IF killed_GrayRifle6 THEN
	REMOVEOBJECT autorifle2,
	PLACEOBJECT autorifle2 GrayRifle6

IF killed_GrayRifle5 THEN
	REMOVEOBJECT bazookadrop1,
	PLACEOBJECT bazookadrop1 GrayRifle5

IF killed_GrayRifle13 THEN
	PLACEOBJECT grenadedrop6 GrayRifle13