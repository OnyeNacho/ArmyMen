// BAYOU SCENARIO 2 MISSION 4 The Enemy's Own

// PAD DEFs

PAD heresarge 30 GREEN >0
PAD runto  40
//Endgames
IF ALLOF killed_TowerNorth killed_TowerSouth killed_GrayFlamer102 killed_GrayRifle109 killed_GrayRifle108 killed_GrayBazooka104 gotit THEN
	TRIGGERDELAY 3 greenwins

// if lose for reasons other than sarge being killed, let the user know why
// the stream name will change when we get the voice overs to BAYOU2_2LOSE
// don't forget to copy the lose bitmap to Briefs (this one is already done)
IF killed_b1 killed_b2 THEN
	SHOWBMP "Bayou2_2Lose.bmp",
	PLAYSTREAM LOSE_MSG,
	TRIGGERDELAY 2 tanwins

IF killed_GreenSarge THEN
	TRIGGERDELAY 2 tanwins

// INIT

IF startup THEN
	PLACEOBJECT key key,
	REMOVEOBJECT prisoner,
	ORDER GrayRifle101 GOTO GrayRifle101 INMODE IGNORE THEN ATMODE STANDFIRE,
	ORDER GrayBazooka101 GOTO GrayBazooka101 INMODE IGNORE THEN ATMODE STANDFIRE,
	ORDER GrayRifle102 GOTO GrayRifle102 INMODE IGNORE THEN ATMODE STANDFIRE,
	ORDER GrayRifle103 GOTO GrayRifle103 INMODE IGNORE THEN ATMODE STANDFIRE,
	ORDER GrayRifle104 GOTO GrayRifle104 INMODE IGNORE THEN ATMODE STANDFIRE,
	ORDER GrayFlamer101 GOTO GrayFlamer101 INMODE IGNORE THEN ATMODE ATTACK,
	ORDER GrayRifle105 GOTO GrayRifle105 INMODE IGNORE THEN ATMODE STANDFIRE,
	ORDER GrayRifle107 GOTO GrayRifle107 INMODE IGNORE THEN ATMODE NESTFIRE,
	ORDER GrayBazooka102 GOTO GrayBazooka102 INMODE IGNORE THEN ATMODE NESTFIRE,
	ORDER GrayRifle108 GOTO GrayRifle108 INMODE IGNORE THEN ATMODE IGNORE,
	ORDER GrayFlamer102 GOTO GrayFlamer102 INMODE IGNORE THEN ATMODE IGNORE,
	ORDER GrayBazooka104 GOTO GrayBazooka104 INMODE IGNORE THEN ATMODE STANDFIRE,
	ORDER GrayRifle109 GOTO GrayRifle109 INMODE IGNORE THEN ATMODE STANDFIRE,	
	ORDER GrayRifle110 GOTO GrayRifle110 INMODE IGNORE THEN ATMODE STANDFIRE,
	ORDER GrayBazooka105 GOTO GrayBazooka105 INMODE IGNORE THEN ATMODE STANDFIRE,
	ORDER GrayBazooka106 GOTO GrayBazooka106 INMODE IGNORE THEN ATMODE STANDFIRE,
	ORDER GrayBazooka107 GOTO GrayBazooka107 INMODE IGNORE THEN ATMODE NESTFIRE,
	ORDER GrayFlamer110 GOTO GrayFlamer110 INMODE IGNORE THEN ATMODE ATTACK,
	ORDER GrayFlamer111 GOTO GrayFlamer111 INMODE IGNORE THEN ATMODE ATTACK,
	ORDER GrayFlamer112 GOTO GrayFlamer112 INMODE IGNORE THEN ATMODE ATTACK,
	ORDER GrayRifle111 GOTO GrayRifle111 INMODE IGNORE THEN ATMODE STANDFIRE,
	ORDER GrayRifle112 GOTO GrayRifle112 INMODE IGNORE THEN ATMODE PRONEFIRE,
	ORDER GrayRifle113 GOTO GrayRifle113 INMODE IGNORE THEN ATMODE STANDFIRE,
	ORDER GrayRifle114 GOTO GrayRifle114 INMODE IGNORE THEN ATMODE STANDFIRE,
	ORDER Grenadier101 GOTO Grenadier101 INMODE IGNORE THEN ATMODE KNEELFIRE,
	ORDER Grenadier102 GOTO Grenadier102 INMODE IGNORE THEN ATMODE KNEELFIRE,
	ORDER Grenadier103 GOTO Grenadier103 INMODE IGNORE THEN ATMODE KNEELFIRE,
	ORDER GrayMortar101 GOTO GrayMortar101 INMODE IGNORE THEN ATMODE KNEELFIRE





IF get_GreenSarge_key THEN
	TRIGGER gotit

//Crate Drop. 

IF REPEAT 1 OF killed_GrayBazooka102 THEN
	REMOVEOBJECT sweeper,
	PLACEOBJECT sweeper ME

IF killed_GrayFlamer101 THEN
	REMOVEOBJECT med2,
	PLACEOBJECT med2 GrayFlamer101

IF killed_GrayBazooka101 THEN
	REMOVEOBJECT med3,
	PLACEOBJECT med3 GrayBazooka101

IF on_heresarge THEN
	ORDER GrayFlamer102 FOLLOW GreenSarge INMODE ATTACK,
	ORDER GrayRifle108 GOTO runto INMODE IGNORE THEN ATMODE KNEELFIRE
	